(this.webpackJsonpcafeteria=this.webpackJsonpcafeteria||[]).push([[0],{100:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),c=(a(100),a(9)),i=a.n(c),s=a(19),d=a(10),u=a(11),m=a(7),p=a(13),h=a(12),E=a(54),b=a(55),g=a(8),f=a(94),v=a(78),C=a(14),y=a(26),x=a(51),k=a(17),N=a(16),j=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleEliminarDeCarro=n.handleEliminarDeCarro.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"handleEliminarDeCarro",value:function(){this.props.eliminarDeCarro(this.props.item.producto.id)}},{key:"render",value:function(){var e=this.props.item;return r.a.createElement("tr",{key:e.producto.id},r.a.createElement("td",null,e.producto.nombre),r.a.createElement("td",null,e.cantidad),r.a.createElement("td",null,"$",e.producto.precio*e.cantidad),r.a.createElement("td",null,r.a.createElement(g.a,{variant:"danger",onClick:this.handleEliminarDeCarro},r.a.createElement(k.a,{icon:N.j}))))}}]),a}(r.a.Component),w=a(30);var O=function(e){var t=0,a=0,n=0,o=e.carro.map((function(o){return a+=o.producto.precio*o.cantidad,n+=o.cantidad,r.a.createElement(j,{key:t++,item:o,eliminarDeCarro:e.eliminarDeCarro})}));return r.a.createElement(f.a,{trigger:"click",key:"bottom",placement:"bottom",rootClose:!0,overlay:r.a.createElement(v.a,{id:"popover-positioned-bottom",style:{backgroundColor:"rgba(230, 167, 86, 0.82)",maxWidth:"700px"}},r.a.createElement(v.a.Content,null,r.a.createElement("h3",null,r.a.createElement("b",null,"Carro")),r.a.createElement(x.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Cantidad"),r.a.createElement("th",null,"Precio"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,o)),r.a.createElement("h3",null,"Total: $",a),n>0?r.a.createElement(g.a,{className:"m-2",as:w.b,to:"/confirmarPedido/nacho123@gmail.com"},"Confirmar pedido"):r.a.createElement(g.a,{disabled:!0,className:"m-2"},"Confirmar pedido")))},r.a.createElement(g.a,null,r.a.createElement(C.a,null,r.a.createElement(y.a,null,r.a.createElement(k.a,{icon:N.g,className:"m-1"}),r.a.createElement("h5",{className:"m-1"},n)))))};var D=function(e){return r.a.createElement(E.a,{variant:"dark",bg:"dark",expand:"lg",id:"mainNav",sticky:"top"},r.a.createElement(E.a.Brand,{className:"text-uppercase d-lg-none text-expanded",as:w.b,to:"/"},"Donde Jos\xe9 Villar"),r.a.createElement(E.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(E.a.Collapse,null,r.a.createElement(b.a.Link,{className:"text-white text-uppercase",as:w.b,to:"/"},"Inicio"),r.a.createElement(b.a.Link,{className:"text-white text-uppercase",as:w.b,to:"/conocenos"},"Con\xf3cenos"),r.a.createElement(b.a.Link,{className:"text-white text-uppercase",as:w.b,to:"/registrarse"},"Reg\xedstrarse"),r.a.createElement(b.a.Link,{className:"text-white text-uppercase",as:w.b,to:"/codigos"},"C\xf3digos")),r.a.createElement(E.a.Collapse,{className:"justify-content-end"},r.a.createElement(b.a.Link,{className:"text-white text-uppercase",as:w.b,to:"/cuenta/nacho123@gmail.com"},"Cuenta")),r.a.createElement(O,{carro:e.carro,eliminarDeCarro:e.eliminarDeCarro}))};var S=function(){return r.a.createElement("h1",{id:"header",className:"text-center text-white d-none d-lg-block site-heading"},r.a.createElement("span",{className:"text-primary site-heading-upper mb-3"},r.a.createElement("strong",{style:{color:"#e6a756"}},"Cafeter\xeda")),r.a.createElement("span",{className:"site-heading-lower"},"Donde Jos\xe9 Billar"))},P=a(72),L=a(36);var I=function(e){if(e.isLoaded){var t=e.productos.map((function(e){if(e.destacado)return r.a.createElement(P.a.Item,{key:e.id},r.a.createElement("a",{href:"#producto"+e.id},r.a.createElement("img",{className:"d-block w-100",src:e.imgUrl,alt:e.nombre,style:{maxHeight:"450px",objectFit:"contain"}}),r.a.createElement(P.a.Caption,null,r.a.createElement("h2",null,e.nombre),r.a.createElement("p",null,e.descripcion))))}));return r.a.createElement(C.a,null,r.a.createElement(P.a,null,t))}return r.a.createElement(C.a,{className:"page-section cta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement(L.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Cargando..."))))))};var A=function(e){return r.a.createElement(C.a,{className:"page-section"},r.a.createElement("div",{className:"product-item"},r.a.createElement("div",{className:"d-flex product-item-title"},r.a.createElement("div",{className:"d-flex mr-auto bg-faded p-5 rounded",style:{backgroundColor:"rgba(230, 167, 86, 0.82)"}},r.a.createElement("h2",{className:"section-heading mb-0"},r.a.createElement("span",{className:"section-heading-upper",style:{color:"rgb(230, 230, 230)",fontSize:"15px"}},"D\xe9jate Impresionar"),r.a.createElement("span",{className:"section-heading-lower",style:{color:"rgb(239, 239, 239)",fontSize:"42px"}},"Destacados"))))),r.a.createElement(C.a,{className:"bg-faded p-5 rounded"},r.a.createElement(I,{isLoaded:e.isLoaded,productos:e.productos})))},z=a(47),B=a(92),V=a(15),T=a(3),F=a(27),G=a(21),q=a.n(G),M=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).toBase64=function(e){return new Promise((function(t,a){var n=new FileReader;void 0!==e&&(n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)})}))},n.state={modal:!1,clicked:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"onSubmit",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({clicked:!0}),a=t.target,void 0===(n=a.imagen.files[0])){e.next=10;break}return e.next=7,this.toBase64(n);case 7:n=e.sent,e.next=11;break;case 10:n="";case 11:return e.next=13,q.a.put("https://cafeteriaapi.herokuapp.com/Producto/",{id:this.props.producto.id,nombre:a.nombre.value,imgUrl:n,descripcion:a.descripcion.value,precio:parseInt(a.precio.value),categoria:a.categoria.value,disponible:a.disponible.checked,destacado:a.destacado.checked,eliminado:!1});case 13:this.toggle(),this.props.actualizarProductos();case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{onClick:this.toggle},r.a.createElement(k.a,{icon:N.c})),r.a.createElement(V.a,{show:this.state.modal,onHide:this.toggle},r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(V.a.Title,null,"Editar producto ",this.props.producto.nombre)),r.a.createElement(T.a,{onSubmit:this.onSubmit},r.a.createElement(V.a.Body,null,r.a.createElement(T.a.Group,{controlId:"nombre"},r.a.createElement(T.a.Label,null,"Nombre"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Nombre",defaultValue:this.props.producto.nombre,maxLength:"30",required:!0})),r.a.createElement(T.a.Group,{controlId:"precio"},r.a.createElement(T.a.Label,null,"Precio"),r.a.createElement(F.a,{className:"mb-3"},r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,null,"$")),r.a.createElement(T.a.Control,{type:"text",placeholder:"Precio",defaultValue:this.props.producto.precio,required:!0}))),r.a.createElement(T.a.Group,{controlId:"descripcion"},r.a.createElement(T.a.Label,null,"Descripci\xf3n"),r.a.createElement(T.a.Control,{as:"textarea",rows:"2",placeholder:"Descripci\xf3n",defaultValue:this.props.producto.descripcion,maxLength:"120",required:!0})),r.a.createElement(T.a.Group,{controlId:"categoria"},r.a.createElement(T.a.Label,null,"Categor\xeda"),r.a.createElement(T.a.Control,{as:"select",defaultValue:this.props.producto.categoria},r.a.createElement("option",null,"Bebestible"),r.a.createElement("option",null,"Comestible"))),r.a.createElement(T.a.Group,{controlId:"imagen"},r.a.createElement(T.a.File,{id:"imagen",label:"Imagen"})),r.a.createElement(T.a.Check,{type:"switch",label:"Disponible",id:"disponible",defaultChecked:this.props.producto.disponible}),r.a.createElement(T.a.Check,{type:"switch",label:"Destacado",id:"destacado",defaultChecked:this.props.producto.destacado})),r.a.createElement(V.a.Footer,null,r.a.createElement(g.a,{type:"submit"},this.state.clicked?r.a.createElement(k.a,{icon:N.h}):"Editar producto"),r.a.createElement(g.a,{onClick:this.toggle},"Cancelar")))))}}]),a}(r.a.Component),H=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={modal:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"delete",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.delete("https://cafeteriaapi.herokuapp.com/Producto/".concat(this.props.idProducto));case 2:this.toggle(),this.props.actualizarProductos();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"danger",onClick:this.toggle},r.a.createElement(k.a,{icon:N.j})),r.a.createElement(V.a,{show:this.state.modal,onHide:this.toggle},r.a.createElement(V.a.Header,null,"Eliminar ",this.props.nombre),r.a.createElement(V.a.Body,null,"\xbfEst\xe1 seguro de que desea eliminar ",this.props.nombre,"?"),r.a.createElement(V.a.Footer,null,r.a.createElement(g.a,{variant:"danger",onClick:function(){e.delete()}},"Eliminar"),r.a.createElement(g.a,{onClick:this.toggle},"Cancelar"))))}}]),a}(r.a.Component),R=a(69),U=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={cantidad:1},n.increment=n.increment.bind(Object(m.a)(n)),n.decrement=n.decrement.bind(Object(m.a)(n)),n.handleAnadirACarro=n.handleAnadirACarro.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"increment",value:function(){this.setState({cantidad:this.state.cantidad+1})}},{key:"decrement",value:function(){this.setState({cantidad:this.state.cantidad>1?this.state.cantidad-1:1})}},{key:"handleAnadirACarro",value:function(){this.props.anadir(this.state.cantidad)}},{key:"render",value:function(){return r.a.createElement(y.a,{className:"m-1"},r.a.createElement(F.a,{className:"mr-1",style:{width:"79.8375%"}},r.a.createElement(F.a.Prepend,null,r.a.createElement(g.a,{disabled:!this.props.disponible,onClick:this.decrement},r.a.createElement(k.a,{icon:N.e}))),r.a.createElement(R.a,{className:"text-center",value:this.state.cantidad,readOnly:!0}),r.a.createElement(F.a.Append,null,r.a.createElement(g.a,{disabled:!this.props.disponible,onClick:this.increment},r.a.createElement(k.a,{icon:N.f})))),r.a.createElement(g.a,{disabled:!this.props.disponible,onClick:this.handleAnadirACarro},r.a.createElement(k.a,{icon:N.a})))}}]),a}(r.a.Component),J=a(93),$=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={modal:!1},n.handleAnadirACarro=n.handleAnadirACarro.bind(Object(m.a)(n)),n.toggle=n.toggle.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"handleAnadirACarro",value:function(e){this.props.anadirACarro({producto:this.props.producto,cantidad:e})}},{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{id:"producto"+this.props.producto.id,className:"m-4",style:this.props.producto.disponible?{width:"18rem"}:{opacity:".4",width:"18rem"}},r.a.createElement(z.a.Img,{variant:"top",src:this.props.producto.imgUrl,style:{maxHeight:"250px",objectFit:"contain",cursor:"pointer"},onClick:this.toggle}),r.a.createElement(z.a.Body,{style:{cursor:"pointer"},onClick:this.toggle},r.a.createElement(z.a.Title,null,this.props.producto.nombre),r.a.createElement(z.a.Subtitle,null,"$",this.props.producto.precio)),r.a.createElement(z.a.Footer,{as:C.a},r.a.createElement(y.a,{className:"m-1",style:{justifyContent:"flex-end"}},this.props.isAdmin&&r.a.createElement(B.a,{className:"float-right mb-1"},r.a.createElement(M,{producto:this.props.producto,actualizarProductos:this.props.actualizarProductos}),r.a.createElement(H,{idProducto:this.props.producto.id,nombre:this.props.producto.nombre,actualizarProductos:this.props.actualizarProductos}))),r.a.createElement(U,{disponible:this.props.producto.disponible,anadir:this.handleAnadirACarro}))),r.a.createElement(V.a,{show:this.state.modal,onHide:this.toggle},r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(V.a.Title,null,this.props.producto.nombre)),r.a.createElement(V.a.Body,null,r.a.createElement(J.a,{src:this.props.producto.imgUrl,thumbnail:!0}),r.a.createElement(C.a,{className:"p-3"},r.a.createElement("h5",null,this.props.producto.descripcion))),r.a.createElement(V.a.Footer,null,r.a.createElement(U,{disponible:this.props.producto.disponible,anadir:this.handleAnadirACarro}))))}}]),a}(r.a.Component);var W=function(e){if(e.isLoaded){var t="";"Bebestibles"===e.filtrar?t="Bebestible":"Comestibles"===e.filtrar&&(t="Comestible");var a=[];return e.productos.forEach((function(n){-1!==n.nombre.toLowerCase().indexOf(e.buscar.toLowerCase())&&(""!==t&&t!==n.categoria||a.push(r.a.createElement($,{isAdmin:e.isAdmin,key:n.id,producto:n,anadirACarro:e.anadirACarro,actualizarProductos:e.actualizarProductos})))})),r.a.createElement(C.a,null,r.a.createElement(y.a,null,a))}return r.a.createElement(C.a,{className:"page-section cta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement(L.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Cargando..."))))))},Z=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).toBase64=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))},n.state={modal:!1,clicked:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"onSubmit",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({clicked:!0}),a=t.target,e.t0=q.a,e.t1=a.nombre.value,e.next=7,this.toBase64(a.imagen.files[0]);case 7:return e.t2=e.sent,e.t3=a.descripcion.value,e.t4=parseInt(a.precio.value),e.t5=a.categoria.value,e.t6=a.disponible.checked,e.t7=a.destacado.checked,e.t8={nombre:e.t1,imgUrl:e.t2,descripcion:e.t3,precio:e.t4,categoria:e.t5,disponible:e.t6,destacado:e.t7,eliminado:!1},e.next=16,e.t0.post.call(e.t0,"https://cafeteriaapi.herokuapp.com/Producto",e.t8);case 16:this.toggle(),this.props.actualizarProductos();case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"info",onClick:this.toggle},r.a.createElement(k.a,{icon:N.f})),r.a.createElement(V.a,{show:this.state.modal,onHide:this.toggle},r.a.createElement(V.a.Header,{closeButton:!0},r.a.createElement(V.a.Title,null,"Crear Producto")),r.a.createElement(T.a,{onSubmit:this.onSubmit},r.a.createElement(V.a.Body,null,r.a.createElement(T.a.Group,{controlId:"nombre"},r.a.createElement(T.a.Label,null,"Nombre"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Nombre",maxLength:"30",required:!0})),r.a.createElement(T.a.Group,{controlId:"precio"},r.a.createElement(T.a.Label,null,"Precio"),r.a.createElement(F.a,{className:"mb-3"},r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,null,"$")),r.a.createElement(T.a.Control,{type:"text",placeholder:"Precio",required:!0}))),r.a.createElement(T.a.Group,{controlId:"descripcion"},r.a.createElement(T.a.Label,null,"Descripci\xf3n"),r.a.createElement(T.a.Control,{as:"textarea",rows:"2",placeholder:"Descripci\xf3n",maxLength:"120",required:!0})),r.a.createElement(T.a.Group,{controlId:"categoria"},r.a.createElement(T.a.Label,null,"Categor\xeda"),r.a.createElement(T.a.Control,{as:"select"},r.a.createElement("option",null,"Bebestible"),r.a.createElement("option",null,"Comestible"))),r.a.createElement(T.a.Group,{controlId:"imagen"},r.a.createElement(T.a.File,{id:"imagen",label:"Imagen",required:!0})),r.a.createElement(T.a.Check,{type:"switch",label:"Disponible",id:"disponible",defaultChecked:!0}),r.a.createElement(T.a.Check,{type:"switch",label:"Destacado",id:"destacado"})),r.a.createElement(V.a.Footer,null,r.a.createElement(g.a,{type:"submit",onClick:this.handleOnClick},this.state.clicked?r.a.createElement(k.a,{icon:N.h}):"Crear producto"),r.a.createElement(g.a,{onClick:this.toggle},"Cancelar")))))}}]),a}(r.a.Component),Y=a(23),K=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={filtrar:"Todo",buscar:""},n.categoria=n.categoria.bind(Object(m.a)(n)),n.buscar=n.buscar.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"categoria",value:function(e){this.setState({filtrar:e.target.value})}},{key:"buscar",value:function(e){this.setState({buscar:e.target.value})}},{key:"render",value:function(){return r.a.createElement(C.a,{id:"productos",className:"page-section"},r.a.createElement("div",{className:"product-item"},r.a.createElement("div",{className:"d-flex product-item-title"},r.a.createElement("div",{className:"d-flex ml-auto bg-faded p-5 rounded",style:{backgroundColor:"rgba(230,167,86,0.82)"}},r.a.createElement("h2",{className:"section-heading mb-0"},r.a.createElement("span",{className:"section-heading-upper",style:{color:"rgb(230,230,230)",fontSize:"15px"}},"Hechos con dedicaci\xf3n"),r.a.createElement("span",{className:"section-heading-lower",style:{color:"rgb(239,239,239)",fontSize:"42px"}},"Nuestros Productos"))))),r.a.createElement(C.a,{className:"bg-faded p-5 rounded"},r.a.createElement(T.a.Row,null,r.a.createElement(T.a.Group,{as:Y.a},r.a.createElement(T.a.Control,{className:"m-3",as:"select",id:"categoria",onChange:this.categoria},r.a.createElement("option",null,"Todo"),r.a.createElement("option",null,"Bebestibles"),r.a.createElement("option",null,"Comestibles"))),r.a.createElement(Y.a,null,r.a.createElement(T.a,{inline:!0,className:"justify-content-end"},r.a.createElement(T.a.Control,{className:"m-3",type:"text",id:"buscar",placeholder:"Buscar",onChange:this.buscar}),this.props.isAdmin&&r.a.createElement(Z,{actualizarProductos:this.props.actualizarProductos})))),r.a.createElement(W,{isAdmin:this.props.isAdmin,productos:this.props.productos,isLoaded:this.props.isLoaded,filtrar:this.state.filtrar,buscar:this.state.buscar,anadirACarro:this.props.anadirACarro,actualizarProductos:this.props.actualizarProductos})))}}]),a}(r.a.Component),Q=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.title="Cafeter\xeda Donde Jos\xe9 Billar - Productos"}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{productos:this.props.productos,isLoaded:this.props.isLoaded}),r.a.createElement(K,{isAdmin:this.props.isAdmin,productos:this.props.productos,isLoaded:this.props.isLoaded,anadirACarro:this.props.anadirACarro,actualizarProductos:this.props.actualizarProductos}))}}]),a}(r.a.Component);var X=function(e){return r.a.createElement("footer",{className:"footer text-faded text-center py-5"},r.a.createElement(C.a,null,r.a.createElement("p",{className:"m-0 small"},"Copyright\xa0\xa9\xa0Donde Jos\xe9 Villar 2020")))},_=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handlePassChange=function(e){var t=e.target.value;n.setState({pass:t},(function(){return n.handleValidatePassword()}))},n.handleValPassChange=function(e){n.setState({valPass:e.target.value},(function(){return n.handleValidatePassword()}))},n.handleValidatePassword=function(){var e=!(n.state.pass===n.state.valPass);n.setState({isPasswordInvalid:e})},n.state={pass:"",valPass:"",isPasswordInvalid:!0,isValidMail:!1,isValidPhone:!1,status:""},n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n.validateEmail=n.validateEmail.bind(Object(m.a)(n)),n.validateTelefono=n.validateTelefono.bind(Object(m.a)(n)),n.renderButtonContent=n.renderButtonContent.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.title="Registrarse - Cafeter\xeda Jos\xe9 Billar"}},{key:"validateEmail",value:function(e){var t=e.target.value;/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?this.setState({isValidMail:!0}):this.setState({isValidMail:!1})}},{key:"validateTelefono",value:function(e){var t=e.target.value;/(\+56)?\d{9}/gm.test(t)?this.setState({isValidPhone:!0}):this.setState({isValidPhone:!1})}},{key:"onSubmit",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.state.isPasswordInvalid&&this.state.isValidMail){e.next=3;break}return e.abrupt("return");case 3:return a=t.target,this.setState({status:"waiting"}),n=null,e.prev=6,e.next=9,q.a.post("https://cafeteriaapi.herokuapp.com/User/cliente",{telefono:a.telefono.value,direcion:a.direccion.value,nombres:a.nombre.value,apellidos:a.apellido.value,mail:a.email.value,"contrase\xf1a":a.contrase\u00f1a.value,rol:"Cliente"});case 9:n=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),n=e.t0;case 15:return e.prev=15,200===n.status?this.setState({status:"ok"}):this.setState({status:"error"}),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[6,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderButtonContent",value:function(){return""===this.state.status?"Crear cuenta":"waiting"===this.state.status?r.a.createElement(L.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Procesando...")):r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:"mr-2",icon:"ok"===this.state.status?N.b:N.i}),"ok"===this.state.status?"Listo!":"Error")}},{key:"render",value:function(){var e=this;return r.a.createElement(C.a,{className:"page-section"},r.a.createElement("div",{className:"product-item"},r.a.createElement("div",{className:"d-flex product-item-title"},r.a.createElement("div",{className:"d-flex mr-auto bg-faded p-5 rounded",style:{backgroundColor:"rgba(230, 167, 86, 0.82)"}},r.a.createElement("h2",{className:"section-heading mb-0"},r.a.createElement("span",{className:"section-heading-upper",style:{color:"rgb(230, 230, 230)",fontSize:"15px"}},"S\xe9 parte de nosotros"),r.a.createElement("span",{className:"section-heading-lower",style:{color:"rgb(239, 239, 239)",fontSize:"42px"}},"Crear Cuenta"))))),r.a.createElement(C.a,{className:"bg-faded p-5 rounded",style:{maxWidth:"700px"}},r.a.createElement(T.a,{id:"myForm",className:"form",ref:function(t){return e.messageForm=t},onSubmit:this.onSubmit},r.a.createElement(y.a,null,r.a.createElement(Y.a,null,r.a.createElement(T.a.Group,{controlId:"nombre"},r.a.createElement(T.a.Label,null,"Nombre"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Nombre",maxLength:"20",required:!0}))),r.a.createElement(Y.a,null,r.a.createElement(T.a.Group,{controlId:"apellido"},r.a.createElement(T.a.Label,null,"Apellido"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Apellido",maxLength:"20",required:!0})))),r.a.createElement(y.a,null,r.a.createElement(Y.a,null,r.a.createElement(T.a.Group,{controlId:"email"},r.a.createElement(T.a.Label,null,"Email"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Email",isInvalid:!this.state.isValidMail,onChange:this.validateEmail,required:!0}))),r.a.createElement(Y.a,null,r.a.createElement(T.a.Group,{controlId:"telefono"},r.a.createElement(T.a.Label,null,"Tel\xe9fono "),r.a.createElement(T.a.Control,{type:"text",placeholder:"Telefono",isInvalid:!this.state.isValidPhone,onChange:this.validateTelefono,maxLength:"12",required:!0})))),r.a.createElement(T.a.Group,{controlId:"direccion"},r.a.createElement(T.a.Label,null,"Direcci\xf3n"),r.a.createElement(T.a.Control,{as:"textarea",rows:"2",placeholder:"Direcci\xf3n",maxLength:"120",required:!0})),r.a.createElement(T.a.Group,{controlId:"contrase\xf1a"},r.a.createElement(T.a.Label,null,"Contrase\xf1a"),r.a.createElement(T.a.Control,{type:"password",placeholder:"Contrase\xf1a",required:!0,onChange:this.handlePassChange})),r.a.createElement(T.a.Group,{controlId:"contrase\xf1aValidacion"},r.a.createElement(T.a.Label,null,"Validaci\xf3n de contrase\xf1a"),r.a.createElement(T.a.Control,{type:"password",placeholder:"Validaci\xf3n de contrase\xf1a",required:!0,onChange:this.handleValPassChange,isInvalid:this.state.isPasswordInvalid})),r.a.createElement(g.a,{className:"float-right",type:"submit",disabled:this.state.isPasswordInvalid||!this.state.isValidPhone||!this.state.isValidMail||"ok"===this.state.status},this.renderButtonContent()))))}}]),a}(r.a.Component),ee=a(22),te=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this)).state={cliente:{nombres:"",apellidos:"",telefono:"",direcion:"","contrase\xf1a":""},isLoaded:!1,notFound:!1,mail:""},n.getMail=function(){return n.props.match.params.mail},n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n.getDatosCliente=n.getDatosCliente.bind(Object(m.a)(n)),n.handleEliminacionCuenta=n.handleEliminacionCuenta.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"getDatosCliente",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoaded:!1}),t=this.getMail(),a=null,e.prev=3,e.next=6,q.a.get("https://cafeteriaapi.herokuapp.com/User/cliente/".concat(t));case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=e.t0;case 12:return e.prev=12,200===a.status?this.setState({cliente:a.data,isLoaded:!0}):this.setState({isLoaded:!0,notFound:!0}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,9,12,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,n=this.getMail(),e.next=5,q.a.put("https://cafeteriaapi.herokuapp.com/User/cliente/".concat(n),{nombres:a.nombre.value,apellidos:a.apellido.value,telefono:a.telefono.value,direcion:a.direccion.value,"contrase\xf1a":a.contrase\u00f1a.value});case 5:this.getDatosCliente();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleEliminacionCuenta",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.getMail(),e.next=3,q.a.delete("https://cafeteriaapi.herokuapp.com/User/cliente/".concat(t));case 3:this.getDatosCliente();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){document.title="Mi cuenta - Cafeter\xeda Donde Jos\xe9 Billar",this.getDatosCliente()}},{key:"render",value:function(){return this.state.isLoaded?this.state.notFound?r.a.createElement(C.a,{className:"page-section cta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement("h2",{className:"section-heading mb-5"},r.a.createElement("span",{className:"section-heading-upper"},"Error"),r.a.createElement("span",{className:"section-heading-lower"},"No existe cuenta con este email!")))))):r.a.createElement(C.a,{className:"page-section cta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement("h2",{className:"section-heading mb-5"},r.a.createElement("span",{className:"section-heading-upper"},"Bienvenido"),r.a.createElement("span",{className:"section-heading-lower"},this.state.cliente.nombres," ",this.state.cliente.apellidos),r.a.createElement(g.a,{variant:"info"},"Mis Pedidos")),r.a.createElement(T.a,{onSubmit:this.onSubmit},r.a.createElement(y.a,null,r.a.createElement(Y.a,null,r.a.createElement(T.a.Group,{controlId:"nombre"},r.a.createElement(T.a.Label,null,"Nombre"),r.a.createElement(T.a.Control,{type:"text",defaultValue:this.state.cliente.nombres})),r.a.createElement(T.a.Group,{controlId:"apellido"},r.a.createElement(T.a.Label,null,"Apellido"),r.a.createElement(T.a.Control,{type:"text",defaultValue:this.state.cliente.apellidos})),r.a.createElement(T.a.Group,{controlId:"contrase\xf1a"},r.a.createElement(T.a.Label,null,"Contrase\xf1a"),r.a.createElement(T.a.Control,{type:"password",defaultValue:this.state.cliente.contrase\u00f1a}))),r.a.createElement(Y.a,null,r.a.createElement(T.a.Group,{controlId:"telefono"},r.a.createElement(T.a.Label,null,"Tel\xe9fono"),r.a.createElement(T.a.Control,{type:"text",defaultValue:this.state.cliente.telefono})),r.a.createElement(T.a.Group,{controlId:"direccion"},r.a.createElement(T.a.Label,null,"Direcci\xf3n"),r.a.createElement(T.a.Control,{as:"textarea",rows:"2",defaultValue:this.state.cliente.direcion})))),r.a.createElement(g.a,{className:"btn btn-danger btn-lg",style:{marginTop:"15px"},onClick:this.handleEliminacionCuenta},"Eliminar Cuenta"),r.a.createElement(g.a,{type:"submit",className:"btn btn-primary btn-lg float-right",style:{marginTop:"15px"}},"Modificar datos")))))):r.a.createElement(C.a,{className:"page-section cta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement(L.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Cargando..."))))))}}]),a}(r.a.Component),ae=Object(ee.f)(te),ne=a(60),re=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).generateItemView=function(t){return r.a.createElement("tr",{key:t.producto.id,style:{borderTop:"1px solid #dee2e6"}},r.a.createElement("td",{className:"border-0 align-middle"},r.a.createElement("img",{src:t.producto.imgUrl,alt:"",style:{width:"100%",maxWidth:"70px"},className:"img-fluid rounded shadow-sm"})),r.a.createElement("td",{className:"border-0 align-middle"},r.a.createElement("div",{className:"ml-3 d-inline-block align-middle"},r.a.createElement("h5",{className:"mb-0 text-dark d-inline-block align-middle"},t.producto.nombre),r.a.createElement("span",{className:"text-muted font-weight-normal font-italic d-block"},"Categor\xeda: ",t.producto.categoria))),r.a.createElement("td",{className:"border-0 align-middle"},r.a.createElement("strong",null,"$",t.producto.precio)),r.a.createElement("td",{className:"border-0 align-middle"},r.a.createElement("strong",null,t.cantidad)),r.a.createElement("td",{className:"border-0 align-middle"},r.a.createElement(g.a,{variant:"danger",onClick:function(){return e.props.eliminarDeCarro(t.producto.id)}},r.a.createElement(k.a,{icon:N.j}))))},e.renderTable=function(){return r.a.createElement(x.a,null,r.a.createElement("thead",null,r.a.createElement("th",{colspan:"2",scope:"col",className:"border-0 bg-light"},"Producto"),r.a.createElement("th",{scope:"col",className:"border-0 bg-light"},"Precio"),r.a.createElement("th",{scope:"col",className:"border-0 bg-light"},"Cantidad"),r.a.createElement("th",{scope:"col",className:"border-0 bg-light"},"Eliminar")),r.a.createElement("tbody",null,e.props.carro.map((function(t){return e.generateItemView(t)}))))},e.renderNoTable=function(){return r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement("h4",{class:"section-heading mb-5"},r.a.createElement("span",{class:"section-heading-lower"},"No hay productos"),r.a.createElement("span",{class:"section-heading-upper"},"Puede a\xf1adir productos al carro de compras desde el cat\xe1logo."))))},e}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"row py-5 p-4 bg-white rounded shadow-sm mb-4 mr-1"},0===this.props.carro?this.renderNoTable():this.renderTable())}}]),a}(r.a.Component),oe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).handleCodigo=function(e){var t=e.target.value;n.setState({cod:t})},n.state={cod:"",validezCodigo:""},n.handleConf=n.handleConf.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"handleConf",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.ConfCodigo(this.state.cod);case 2:this.setState({validezCodigo:this.props.validezCodigo});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(T.a.Group,{controlId:"codigo"},r.a.createElement("div",{className:"row py-5 p-4 bg-white rounded shadow-sm mb-4"},r.a.createElement(T.a.Label,{className:"bg-light rounded-pill px-4 py-3 text-uppercase text-center font-weight-bold",style:{width:"100%"}},"Cup\xf3n de Descuento"),r.a.createElement("p",{className:"font-italic mb-4 text-center",style:{width:"100%"}},"Si tienes un cup\xf3n de descuento, ingr\xe9salo a continuaci\xf3n"),r.a.createElement(T.a.Control,{type:"text",className:"mb-1",onChange:this.handleCodigo}),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("p",{className:"font-italic mb-3 text-center"},this.state.validezCodigo),r.a.createElement(g.a,{onClick:this.handleConf,disabled:""===this.state.cod,className:"float-right"},r.a.createElement(k.a,{icon:N.d,className:"mr-2"}),"Aplicar C\xf3digo"))))}}]),a}(r.a.Component),le=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).renderButtonContent=function(){return n.state.clienteExiste?n.state.procesando?r.a.createElement(L.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Procesando...")):n.state.pedidoRealizado?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:"mr-2",icon:n.state.pedidoExito?N.b:N.i}),n.state.pedidoExito?"Listo!":"Error"):"Confirmar Pedido":"No hay Cuenta!"},n.controlDisableButton=function(){return!n.state.clienteExiste||0===n.props.carro||n.state.pedidoRealizado||n.state.procesando},n.calcularSubtotal=function(){var e=0;return n.props.carro.forEach((function(t){e+=t.producto.precio*t.cantidad})),Math.round(e)},n.calcularDescuento=function(){return Math.round(n.calcularSubtotal()*(.01*n.state.porcentajeDescuento))},n.calcularTotal=function(){return n.calcularSubtotal()-n.calcularDescuento()},n.state={loaded:!1,instruccionesPreparacion:"",porcentajeDescuento:0,subtotal:0,codigoAplicado:!1,validezCodigo:"",mailCliente:"",clienteExiste:!1,cliente:null,procesando:!1,pedidoRealizado:!1,pedidoExito:!1},n.ConfCodigo=n.ConfCodigo.bind(Object(m.a)(n)),n.getDatosCliente=n.getDatosCliente.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"getDatosCliente",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.mail,this.setState({mailCliente:t}),a=null,e.prev=3,e.next=6,q.a.get("https://cafeteriaapi.herokuapp.com/User/cliente/".concat(t));case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=e.t0;case 12:return e.prev=12,200===a.status&&this.setState({cliente:a.data,clienteExiste:!0,loaded:!0}),e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[3,9,12,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){document.title="Confirmar Pedido - Cafeter\xeda Donde Jos\xe9 Billar",this.getDatosCliente()}},{key:"ConfCodigo",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.codigoAplicado){e.next=4;break}this.setState({validezCodigo:"Ya se ingres\xf3 un c\xf3digo de descuento."}),e.next=17;break;case 4:return a=null,e.prev=5,e.next=8,q.a.get("https://cafeteriaapi.herokuapp.com/Codigo/"+t);case 8:a=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),a=e.t0;case 14:return e.prev=14,200===a.status?this.setState({codi:a.data.name,porcentajeDescuento:a.data.descuento,codigoAplicado:!0,validezCodigo:"C\xf3digo de descuento aceptado."}):this.setState({porcentajeDescuento:0,codigoAplicado:!1,validezCodigo:"El c\xf3digo ingresado es inv\xe1lido."}),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[5,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a="",a=t.target.direccionPorDefecto.checked||""===t.target.direccionCustomText.value?this.state.cliente.direcion:t.target.direccionCustomText.value,n=[],this.props.carro.forEach((function(e){n.push({productoId:e.producto.id,cantidad:e.cantidad})})),r=t.target.instrucciones.value,o=this.calcularTotal(),this.setState({procesando:!0}),l=null,e.prev=9,e.next=12,q.a.post("https://cafeteriaapi.herokuapp.com/Pedido",{clienteMail:this.state.mailCliente,productos:n,direccion:a,preparacion:r,valor:o});case 12:l=e.sent,e.next=18;break;case 15:e.prev=15,e.t0=e.catch(9),l=e.t0;case 18:return e.prev=18,200===l.status?this.setState({procesando:!1,pedidoRealizado:!0,pedidoExito:!0}):this.setState({procesando:!1,pedidoRealizado:!0,pedidoExito:!1}),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[9,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?r.a.createElement(C.a,{className:"page-selection"},r.a.createElement(C.a,{className:"bg-faded p-5 rounded",style:{maxWidth:"100%"}},r.a.createElement(T.a,{className:"mb-3",onSubmit:this.onSubmit},r.a.createElement(y.a,null,r.a.createElement(Y.a,{xs:{span:12,order:1},md:{span:8,order:1}},r.a.createElement(re,{carro:this.props.carro,eliminarDeCarro:this.props.eliminarDeCarro})),r.a.createElement(Y.a,{xs:{span:12,order:2},md:{span:4,order:2}},r.a.createElement("div",{className:"row py-5 p-4 bg-white rounded shadow-sm mb-4"},r.a.createElement(T.a.Label,{className:"bg-light rounded-pill px-4 py-3 text-uppercase text-center font-weight-bold",style:{width:"100%"}},"Resumen de Pedido"),r.a.createElement(ne.a,{variant:"flush",as:"ul",style:{width:"100%"}},r.a.createElement(ne.a.Item,{as:"li",className:" d-flex justify-content-between py-3"},r.a.createElement("strong",{className:"text-muted"},"Subtotal"),r.a.createElement("strong",null,"$",this.calcularSubtotal())),r.a.createElement(ne.a.Item,{as:"li",className:" d-flex justify-content-between py-3"},r.a.createElement("strong",{className:"text-muted"},"Descuento"),r.a.createElement("strong",{className:"align-right"},"$",this.calcularDescuento())),r.a.createElement(ne.a.Item,{as:"li",className:" d-flex justify-content-between py-3"},r.a.createElement("strong",{className:"text-muted"},"Total"),r.a.createElement("strong",{className:"align-right"},"$",this.calcularTotal())))))),r.a.createElement(y.a,null,r.a.createElement(Y.a,{xs:{span:12,order:1},md:{span:8,order:1}},r.a.createElement(T.a.Group,null,r.a.createElement("div",{className:"row py-1 p-4 bg-white rounded shadow-sm mb-4 mr-1"},r.a.createElement(T.a.Label,{className:"bg-light rounded-pill px-4 py-3 text-uppercase text-center font-weight-bold",style:{width:"100%"}},"Direcci\xf3n de despacho"),r.a.createElement(Y.a,null,r.a.createElement(T.a.Check,{type:"radio",id:"direccionPorDefecto",name:"direccion",value:"defecto",label:this.state.cliente.direcion,defaultChecked:!0}),r.a.createElement(T.a.Check,{type:"radio",id:"direccionCustom",name:"direccion",value:"custom",label:"Ingresar una direcci\xf3n:"}),r.a.createElement(T.a.Control,{as:"textarea",id:"direccionCustomText",rows:"2"})))),r.a.createElement(T.a.Group,{controlId:"instrucciones"},r.a.createElement("div",{className:"row py-1 p-4 bg-white rounded shadow-sm mb-4 mr-1"},r.a.createElement(T.a.Label,{className:"bg-light rounded-pill px-4 py-3 text-uppercase text-center font-weight-bold",style:{width:"100%"}},"Instrucciones Adicionales"),r.a.createElement("p",{className:"font-italic mb-4 text-center",style:{width:"100%"}},"Si tienes instrucciones adicionales sobre preparaci\xf3n o despacho, escr\xedbelas aqu\xed"),r.a.createElement(T.a.Control,{as:"textarea",cols:"30",rows:"2"})))),r.a.createElement(Y.a,{xs:{span:12,order:2},md:{span:4,order:2}},r.a.createElement(oe,{ConfCodigo:this.ConfCodigo,codigoAplicado:this.codigoAplicado,validezCodigo:this.state.validezCodigo}))),r.a.createElement(g.a,{className:"float-right",type:"submit",disabled:this.controlDisableButton()},this.renderButtonContent())))):r.a.createElement(C.a,{className:"page-section cta"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-p mx-auto"},r.a.createElement("div",{className:"cta-inner rounded"},r.a.createElement(L.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Cargando..."))))))}}]),a}(r.a.Component),ce=Object(ee.f)(le),ie=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this)).handleDescuentoChange=function(e){var t=e.target.value;n.setState({desc:t},(function(){return n.handleValDescuento()}))},n.handleValDescuento=function(){var e=!(parseInt(n.state.desc)<=100&&parseInt(n.state.desc)>0);n.setState({isDescuentoInvalid:e})},n.state={modal:!1,isDescuentoInvalid:!0,desc:""},n.toggle=n.toggle.bind(Object(m.a)(n)),n.onSubmit=n.onSubmit.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"onSubmit",value:function(){var e=Object(s.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target,e.next=4,q.a.post("https://cafeteriaapi.herokuapp.com/Codigo",{name:a.nombre.value,descuento:parseInt(a.descuento.value)});case 4:this.toggle(),this.props.actualizarCodigo();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{className:"pull-right",variant:"info",onClick:this.toggle},r.a.createElement(k.a,{icon:N.f})),r.a.createElement(V.a,{show:this.state.modal,onHide:this.toggle},r.a.createElement(V.a.Header,null,"Crear Producto"),r.a.createElement(T.a,{onSubmit:this.onSubmit},r.a.createElement(V.a.Body,null,r.a.createElement(T.a.Group,{controlId:"nombre"},r.a.createElement(T.a.Label,null,"Nombre"),r.a.createElement(T.a.Control,{type:"text",placeholder:"Nombre",maxLength:"15",required:!0})),r.a.createElement(T.a.Group,{controlId:"descuento"},r.a.createElement(T.a.Label,null,"Descuento"),r.a.createElement(F.a,{className:"mb-3"},r.a.createElement(F.a.Prepend,null,r.a.createElement(F.a.Text,null,"%")),r.a.createElement(T.a.Control,{type:"text",placeholder:"Descuento",required:!0,onChange:this.handleDescuentoChange,isInvalid:this.state.isDescuentoInvalid})))),r.a.createElement(V.a.Footer,null,r.a.createElement(g.a,{type:"submit",disabled:this.state.isDescuentoInvalid},"Crear Codigo"),r.a.createElement(g.a,{onClick:this.toggle},"Cancelar")))))}}]),a}(r.a.Component),se=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={modal:!1},n.toggle=n.toggle.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"toggle",value:function(){this.setState((function(e){return{modal:!e.modal}}))}},{key:"delete",value:function(){var e=Object(s.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.delete("https://cafeteriaapi.herokuapp.com/Codigo/".concat(this.props.nameEliminar));case 2:this.toggle(),this.props.actualizarCodigo();case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{variant:"danger",onClick:this.toggle},r.a.createElement(k.a,{icon:N.j})),r.a.createElement(V.a,{show:this.state.modal,onHide:this.toggle},r.a.createElement(V.a.Header,null,"Eliminar Codigo"),r.a.createElement(V.a.Body,null,'\xbfEst\xe1 seguro de que desea eliminar el Codigo "',this.props.nameEliminar,'"?'),r.a.createElement(V.a.Footer,null,r.a.createElement(g.a,{variant:"danger",onClick:function(){e.delete()}},"Eliminar"),r.a.createElement(g.a,{onClick:this.toggle},"Cancelar"))))}}]),a}(r.a.Component),de=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("tr",{key:this.props.item.name},r.a.createElement("td",null,this.props.item.name),r.a.createElement("td",null,this.props.item.descuento,"%"),r.a.createElement("td",null,r.a.createElement(se,{nameEliminar:this.props.item.name,actualizarCodigo:this.props.actualizarCodigo})))}}]),a}(r.a.Component),ue=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={codigos:[]},n.actualizarCodigo=n.actualizarCodigo.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"actualizarCodigo",value:function(){this.setState({isLoaded:!1}),this.getListaCodigos()}},{key:"getListaCodigos",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("https://cafeteriaapi.herokuapp.com/Codigo").then((function(e){t.setState({codigos:e.data,isLoaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){document.title="C\xf3digos - Cafeter\xeda Jos\xe9 Billar",this.getListaCodigos()}},{key:"render",value:function(){var e=this,t=0,a=this.state.codigos.map((function(a){return r.a.createElement(de,{key:t++,item:a,actualizarCodigo:e.actualizarCodigo})}));return r.a.createElement(C.a,{className:"page-section"},r.a.createElement("div",{className:"product-item"},r.a.createElement("div",{className:"d-flex product-item-title"},r.a.createElement("div",{className:"d-flex mr-auto bg-faded p-5 rounded",style:{backgroundColor:"rgba(230, 167, 86, 0.82)"}},r.a.createElement("h2",{className:"section-heading mb-0"},r.a.createElement("span",{className:"section-heading-lower",style:{color:"rgb(239, 239, 239)",fontSize:"42px"}},"C\xf3digos de descuento"))))),r.a.createElement(C.a,{className:"bg-faded p-5 rounded"},r.a.createElement(T.a.Row,{className:"p-3"},r.a.createElement(T.a.Group,{as:Y.a},r.a.createElement(ie,{actualizarCodigo:this.actualizarCodigo}))),r.a.createElement(x.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Nombre"),r.a.createElement("th",null,"Descuento"),r.a.createElement("th",null,"Eliminar"))),r.a.createElement("tbody",null,a))))}}]),a}(r.a.Component),me=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){document.title="Con\xf3cenos - Cafeter\xeda Donde Jos\xe9 Billar"}},{key:"render",value:function(){return r.a.createElement("section",{class:"page-section about-heading"},r.a.createElement("div",{class:"container"},r.a.createElement("img",{class:"img-fluid rounded about-heading-img mb-3 mb-lg-0",src:"assets/img/about.jpg",alt:"cafeteria"}),r.a.createElement("div",{class:"about-heading-content"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col-lg-10 col-xl-9 mx-auto"},r.a.createElement("div",{class:"bg-faded rounded p-5"},r.a.createElement("h2",{class:"section-heading mb-4"},r.a.createElement("span",{class:"section-heading-upper"},"Caf\xe9 Fuerte, Raices Fuertes"),r.a.createElement("span",{class:"section-heading-lower"},"Acerca de Nuestro Caf\xe9")),r.a.createElement("p",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ullamcorper ipsum quis nulla euismod, vel tempus est condimentum. Cras urna purus, scelerisque in consequat in, commodo sit amet sem. Etiam ultricies pellentesque dolor sed vestibulum. Integer vitae ligula eget urna posuere euismod. Nulla facilisi.\xa0"),r.a.createElement("p",null,"Pellentesque suscipit dolor sit amet iaculis finibus. Duis tincidunt lacinia tortor, sed efficitur nisi mattis ut. Fusce elit elit, posuere at tincidunt vitae, rhoncus non ante. Cras iaculis ligula commodo lectus tristique pulvinar. Etiam sed purus ac ex lobortis faucibus sit amet ac enim.")))))))}}]),a}(r.a.Component),pe=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={productos:[],isLoaded:!1,carro:[],isAdmin:!0},n.actualizarProductos=n.actualizarProductos.bind(Object(m.a)(n)),n.anadirACarro=n.anadirACarro.bind(Object(m.a)(n)),n.eliminarDeCarro=n.eliminarDeCarro.bind(Object(m.a)(n)),n}return Object(u.a)(a,[{key:"getListaProductos",value:function(){var e=Object(s.a)(i.a.mark((function e(){var t=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.get("https://cafeteriaapi.herokuapp.com/Producto").then((function(e){var a=[];e.data.forEach((function(e){!0===!e.eliminado&&a.push(e)}));var n=[];t.state.carro.forEach((function(e){e.producto.disponible&&n.push(e)})),t.setState({productos:a,carro:n,isLoaded:!0})}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"actualizarProductos",value:function(){this.setState({isLoaded:!1}),this.getListaProductos()}},{key:"componentDidMount",value:function(){this.getListaProductos()}},{key:"anadirACarro",value:function(e){var t=[],a=!1;this.state.carro.forEach((function(n){n.producto.disponible&&n.producto.id===e.producto.id?(t.push({producto:n.producto,cantidad:n.cantidad+e.cantidad}),a=!0):n.producto.disponible&&t.push(n)})),a||t.push(e),this.setState({carro:t})}},{key:"eliminarDeCarro",value:function(e){var t=[];this.state.carro.forEach((function(a){a.producto.id!==e&&t.push({producto:a.producto,cantidad:a.cantidad})})),this.setState({carro:t})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null,r.a.createElement(D,{carro:this.state.carro,eliminarDeCarro:this.eliminarDeCarro}),r.a.createElement(S,null),r.a.createElement(ee.c,null,r.a.createElement(ee.a,{exact:!0,path:"/"},r.a.createElement(Q,{isAdmin:this.state.isAdmin,productos:this.state.productos,isLoaded:this.state.isLoaded,anadirACarro:this.anadirACarro,actualizarProductos:this.actualizarProductos})),r.a.createElement(ee.a,{exact:!0,path:"/conocenos"},r.a.createElement(me,null)),r.a.createElement(ee.a,{exact:!0,path:"/registrarse"},r.a.createElement(_,null)),r.a.createElement(ee.a,{exact:!0,path:"/cuenta/:mail"},r.a.createElement(ae,null)),r.a.createElement(ee.a,{exact:!0,path:"/confirmarPedido/:mail"},r.a.createElement(ce,{carro:this.state.carro,eliminarDeCarro:this.eliminarDeCarro})),r.a.createElement(ee.a,{exact:!0,path:"/codigos"},r.a.createElement(ue,null)),r.a.createElement(ee.a,{render:function(){return r.a.createElement("h1",null,"404 Not found")}})),r.a.createElement(X,null)))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(126);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,t,a){e.exports=a(127)}},[[95,1,2]]]);
//# sourceMappingURL=main.ee2a430c.chunk.js.map